# 課題 #001：商談成立時のフォローアップ自動化

## 1. 課題の背景と要件
- **背景**: 商談成立（Closed Won）時に事務チームへのタスク作成を自動化し、引き継ぎ漏れを防止する。
- **要件**:
    - `Opportunity.StageName` が `Closed Won` になった時に `Task` を作成。
    - 件名: 「契約手続きを開始してください」、期日: 7日後。
    - **防御的設計**: すでに `Closed Won` のレコードを更新した場合は重複作成しない。

## 2. Git 運用
- **ブランチ名**: `feature/001-opportunity-won-task`
- **コミット名**: `[#001] feat: 商談成立時のタスク自動作成ロジックの実装`

## 3. 設計メモ
- トリガーハンドラーパターンを採用し、`Opportunity_TrgHandler` にロジックを分離。
- `Trigger.oldMap` を使用して「以前の値」と比較し、フェーズが**変更された瞬間**のみを特定する。

## 4. 躓いた点・エラーの記録
- （ここに、実装中に発生したエラーや悩んだことを追記してください）

## 5. 学び・成長点
- **oldMap の活用**: 値の変化を検知する実務的な手法を学んだ。
- **命名規則の定着**: [#001] のように番号を振ることで、履歴が整理されるメリットを実感した。
